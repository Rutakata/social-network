{"version":3,"sources":["Components/Users/Users.module.css","Components/Users/Pagination.module.css","Components/Users/Pagination.js","Components/Users/UserItem.js","Components/Users/Users.js","Redux/usersSelectors.js","Components/Users/UsersContainer.js"],"names":["module","exports","Pagination","totalUsersCount","pageSize","onPageChanged","currentPage","pagesCount","Math","ceil","pages","i","push","useState","portionNumber","setPortionNumber","portionCount","leftPortionBorder","rightPortionBorder","className","style","pageList","onClick","navigationButton","filter","p","map","UserItem","u","followingInProgress","unfollowUser","followUser","userBody","firstPart","to","id","src","photos","small","userPhoto","height","alt","followed","disabled","some","followState","secondPart","userName","name","status","userLocation","Users","props","usersPageBody","users","user","getUsersList","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetchingState","isFetching","getFollowingInProgress","UsersContainer","page","setCurrentPage","requestUsers","this","React","Component","connect"],"mappings":"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","file":"static/js/4.e794bfd4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userBody\":\"Users_userBody__2FX9g\",\"firstPart\":\"Users_firstPart__1Z9GL\",\"secondPart\":\"Users_secondPart__3svHP\",\"followState\":\"Users_followState__20jk4\",\"usersPageBody\":\"Users_usersPageBody__3pkQX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currentPage\":\"Pagination_currentPage__2IxSd\",\"pageList\":\"Pagination_pageList__3LOJh\",\"navigationButton\":\"Pagination_navigationButton__FxtG4\"};","import React, {useState} from \"react\";\r\nimport style from \"./Pagination.module.css\";\r\n\r\n\r\nconst Pagination = ({totalUsersCount, pageSize, onPageChanged, currentPage}) => {\r\n    let portionSize = 10\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize)\r\n    let pages = []\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let leftPortionBorder = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionBorder = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className={style.pageList}>\r\n            {\r\n                portionNumber > 1 && <span onClick={() => setPortionNumber(portionNumber - 1)}\r\n                                           className={style.navigationButton}>Back</span>\r\n            }\r\n            {\r\n                pages.filter(p => p >= leftPortionBorder && p <= rightPortionBorder)\r\n                    .map(p => <span onClick={() => {onPageChanged(p)}} className={currentPage === p && style.currentPage}>\r\n                        {p}</span>)\r\n            }\r\n            {\r\n                portionCount > portionNumber && <span onClick={() => setPortionNumber(portionNumber + 1)}\r\n                                                        className={style.navigationButton}>Next</span>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pagination","import React from \"react\";\r\nimport style from \"./Users.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../Assets/Images/user.jpg\";\r\n\r\n\r\nconst UserItem = ({u, followingInProgress, unfollowUser, followUser}) => {\r\n    return (\r\n        <div key={u.id} className={style.userBody}>\r\n            <div className={style.firstPart}>\r\n                <div>\r\n                    <NavLink to={\"/profile/\" + u.id}>\r\n                        <img src={u.photos.small != null ? u.photos.small : userPhoto} height=\"70px\" alt=\"\"/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {u.followed ?\r\n                        <button disabled={followingInProgress.some(id => id === u.id)}\r\n                                className={style.followState} onClick={() => {\r\n                            unfollowUser(u.id)\r\n                        }}>Unfollow</button> :\r\n                        <button disabled={followingInProgress.some(id => id === u.id)}\r\n                                className={style.followState} onClick={() => {\r\n                            followUser(u.id)\r\n                        }}>Follow</button>}\r\n                </div>\r\n            </div>\r\n            <div className={style.secondPart}>\r\n                <div className={style.userName}>\r\n                    <span>{u.name}</span><br/>\r\n                    <span>{u.status}</span>\r\n                </div>\r\n                <div className={style.userLocation}>\r\n                    <span>{\"u.location.city\"} </span>\r\n                    <span>{\"u.location.country\"}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserItem","import React from \"react\";\r\nimport Pagination from \"./Pagination\";\r\nimport UserItem from \"./UserItem\";\r\nimport style from \"./Users.module.css\"\r\n\r\n\r\nlet Users = (props) => {\r\n    return <div className={style.usersPageBody}>\r\n        <Pagination totalUsersCount={props.totalUsersCount} pageSize={props.pageSize}\r\n                    onPageChanged={props.onPageChanged} currentPage={props.currentPage}/>\r\n        {\r\n            props.users.map(user => {\r\n                return <UserItem u={user} followingInProgress={props.followingInProgress}\r\n                                 unfollowUser={props.unfollowUser} followUser={props.followUser} key={user.id}/>\r\n            })\r\n        }\r\n\r\n    </div>\r\n}\r\n\r\nexport default Users","export const getUsersList = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetchingState = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n","import {followUser, unfollowUser, setCurrentPage, requestUsers} from \"../../Redux/usersReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../../Common/Preloader/preloader\";\r\nimport {\r\n    getCurrentPage, getFollowingInProgress,\r\n    getIsFetchingState,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersList\r\n} from \"../../Redux/usersSelectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (page) => {\r\n        this.props.setCurrentPage(page)\r\n        this.props.requestUsers(page, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount} pageSize={this.props.pageSize}\r\n                   onPageChanged={this.onPageChanged} currentPage={this.props.currentPage}\r\n                   users={this.props.users} unfollowUser={this.props.unfollowUser}\r\n                   followUser={this.props.followUser}\r\n                   followingInProgress={this.props.followingInProgress}/>\r\n        </>\r\n    }\r\n}\r\n\r\n/*let mapStateToProps = (state) => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress\r\n    }\r\n}*/\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersList(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetchingState(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n/*let mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        followUser: (userID) => {\r\n            dispatch(followUserAC(userID))\r\n        },\r\n        unfollowUser: (userID) => {\r\n            dispatch(unfollowUserAC(userID))\r\n        },\r\n        setUsers: (users) => {\r\n            dispatch(setUsersAC(users))\r\n        },\r\n        setTotalUsersCount: (totalCount) => {\r\n            dispatch(setTotalUsersCountAC(totalCount))\r\n        },\r\n        setCurrentPage: (page) => {\r\n            dispatch(setCurrentPageAC(page))\r\n        },\r\n        toggleFetching: (isFetching) => {\r\n            dispatch(toggleFetchingAC(isFetching))\r\n        }\r\n    }\r\n}*/\r\n\r\nexport default connect(mapStateToProps, {\r\n    followUser, unfollowUser, setCurrentPage, requestUsers})(UsersContainer)\r\n"],"sourceRoot":""}